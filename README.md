# todo-service
TODO-приложение, разработанное с применением микросервисной архитектуры.

### Архитектура проекта
1. **todo_core/** - основной микросервис на Python Django, отвечающий за работу с пользователями, задачами, категориями и отправкой уведомлений о начале выполнения задачи (Celery)
2. **comments/** - микросервис на FastAPI, отвечающий за работу с комментариями к задачам
3. **bot/** - микросервис на Aiogram/aiogram_dialog, отвечающий за работу Telegram-бота (клиентская часть)

#### Работа с данными
1. **Основная база данных** - PostgreSQL. С ней взаимодействуют два микросервиса - **todo_core** и **comments**
2. **Кэширование** - Redis. При создании комментариев **comments** сначала обращается в кэш, если там отсутствуют данные о необходимой задаче, то он делает запрос к основной базе данных
3. **REST API** - **comments** и **todo_core** реализуют CRUD интерфейсы для работы с данными

*У **bot** нет прямого доступа к Базе Данных! Он общается с **todo_core** и **comments** для выполнения операций с данными*

### Авторизация запросов
Перед выполнением запросов к REST API необходимо получить JWT-токен, отправив POST-запрос на http://todo-core:8000/api/token

Использование JWT-токена в заголовке *Authorization* требуется от всех внешних запросов, кроме внутренних от микросервисов (они находятся в белом списке)